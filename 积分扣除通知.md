# 积分扣除通知

## 说明

`商户无积分对接可忽略`

只要调用了积分扣除接口，不管积分扣除是否成功，快抢平台都会向开发者发出通知，告知积分扣除结果。如果快兑宝收到商户的应答不是成功或超时，则认为通知失败，失败的会通过一定的策略定期重新发起通知，尽可能提高通知的成功率。 （通知频率为1/15/30/180/1800/1800/1800/1800/3600，单位：秒），开发者需要加锁，以免引起重复执行。

如果返回的扣除失败，开发者需判断该笔交易单号是否发生了扣除，如果发生了扣除，则需要将扣除的积分退还给用户。

- 形式： WebHook接口
- method： `POST`
- request:

| 参数名称 | 参数含义 | 数据类型 | 是否可选 | 参数说明 |
| -- | -- | -- | -- | -- |
| app_uid | 用户ID | String(60) | 必填 | 用户的唯一标识 |
| success | 积分扣除状态码 | int | 必填 | 1：表示扣除成功；2：扣除失败； |
| trans_id | 交易单号 | String(40) | 必填 | 积分扣除时的交易单号 |
| message | 通知的描述信息 | String(40) | 必填 | 成功或失败提示的信息 |
| _sign | 签名串 | String(64) | 必填 | 按签名规则生成的签名串 |

- response:

| 参数名称 | 参数含义 | 数据类型 | 是否可选| 参数说明 |
| -- | -- | -- | -- | -- |
| status | 数据状态 | Boolean | 必填 | 1:表示成功；0：表示失败 |
| message| 描述信息 | String | 可选 | 描述信息 |
| _sign | 签名串 | String(64) | 必填 | 按签名规则生成的签名串 |

- demo

`result json`

```
{
 'status': 1,
 'message': "ok",
 '_sign':'DF4FGBDF4FGBDF4FGBDF4FGBDF4FGBDF4FGBDF4FGB',
}

```
